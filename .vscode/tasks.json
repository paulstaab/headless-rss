{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Update Dependencies",
            "type": "shell",
            "command": "uv sync --upgrade",
            "problemMatcher": []
        },
        {
            "label": "Lint",
            "type": "shell",
            "command": "uv run --dev pre-commit run --all-files",
            "problemMatcher": [],
            "group": {
                "kind": "build",
                "isDefault": true
            }
        },
        {
            "label": "Run All Tests",
            "type": "shell",
            "command": "uv run --dev pytest tests",
            "problemMatcher": [],
            "dependsOn": [
                "Execute Migrations"
            ]
        },
        {
            "label": "Generate Alembic Migration",
            "type": "shell",
            "command": "uv run alembic revision --autogenerate -m \"New migration\"",
            "problemMatcher": []
        },
        {
            "label": "Execute Migrations",
            "type": "shell",
            "command": "uv run alembic upgrade head",
            "problemMatcher": []
        },
        {
            "label": "Start Server",
            "type": "shell",
            "command": "uv run uvicorn src.api.app:app --host 0.0.0.0 --port 8000 --reload",
            "problemMatcher": [],
            "dependsOn": [
                "Execute Migrations"
            ]
        }
    ]
}
